<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>ê°ì • ë‚˜ë¬´ í‚¤ìš°ê¸°</title>
  <style>
    body {
      font-family: 'Arial', sans-serif;
      background-color: #f0f8f5;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      height: 100vh;
      margin: 0;
    }
    h1 {
      color: #2c6e49;
    }
    #tree-image {
      width: 200px;
      height: 200px;
      margin: 20px;
      display: none;
    }
    .buttons {
      display: none;
      gap: 10px;
      flex-wrap: wrap;
      justify-content: center;
    }
    button {
      padding: 10px 20px;
      font-size: 18px;
      border: none;
      border-radius: 10px;
      cursor: pointer;
      transition: transform 0.2s;
    }
    button:hover {
      transform: scale(1.1);
    }
    .water { background-color: #cce5ff; }
    .sun { background-color: #fff3b0; }
    .soil { background-color: #e0c097; }
    .fertilizer { background-color: #d3bdf0; }
    #name-section {
      margin-bottom: 20px;
    }
  </style>
</head>
<body>

  <!-- ì´ë¦„ ì…ë ¥ ì˜ì—­ -->
  <div id="name-section">
    <input type="text" id="username" placeholder="ì´ë¦„ì„ ì…ë ¥í•˜ì„¸ìš”" />
    <button onclick="startGame()">ì‹œì‘í•˜ê¸°</button>
  </div>

  <!-- ì œëª© -->
  <h1 id="title">ğŸŒ± ì˜¤ëŠ˜ì˜ ê°ì •ìœ¼ë¡œ ë‚˜ë¬´ë¥¼ í‚¤ì›Œìš”</h1>

  <!-- ë‚˜ë¬´ ì´ë¯¸ì§€ -->
  <img id="tree-image" src="seed.png" alt="ì”¨ì•— ì´ë¯¸ì§€" />

  <!-- ê°ì • ë²„íŠ¼ë“¤ -->
  <div class="buttons" id="emotion-buttons">
    <button class="water" onclick="growTree()">ğŸ’§ ë¬¼ (ìŠ¬í””)</button>
    <button class="sun" onclick="growTree()">â˜€ï¸ í•´ (ê¸°ì¨)</button>
    <button class="soil" onclick="growTree()">ğŸ¥” í™ (ë³´í†µ)</button>
    <button class="fertilizer" onclick="growTree()">ğŸ§ª ë¹„ë£Œ (ì§œì¦)</button>
  </div>

  <!-- ë°°ê²½ìŒì•… -->
  <audio id="bgm" loop>
    <source src="music.mp3" type="audio/mpeg" />
    ë¸Œë¼ìš°ì €ê°€ ì˜¤ë””ì˜¤ë¥¼ ì§€ì›í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.
  </audio>

  <!-- JavaScript ë¡œì§ -->
  <script>
    let clickCount = 0;
    const totalClicks = 25;
    const treeImages = ["seed.png", "sprout.png", "small-tree.png", "big-tree.png"];

    function startGame() {
      const username = document.getElementById("username").value.trim();
      if (username === "") {
        alert("ì´ë¦„ì„ ì…ë ¥í•´ì£¼ì„¸ìš”!");
        return;
      }

      // ì œëª© ë³€ê²½
      document.getElementById("title").textContent = username + "ì˜ ê°ì •ë‚˜ë¬´ ğŸŒ³";

      // UI ì „í™˜
      document.getElementById("tree-image").style.display = "block";
      document.getElementById("emotion-buttons").style.display = "flex";
      document.getElementById("name-section").style.display = "none";

      // ë°°ê²½ìŒì•… ì¬ìƒ
      const bgm = document.getElementById("bgm");
      bgm.volume = 0.3;
      bgm.play().catch(() => {
        console.log("ë¸Œë¼ìš°ì € ìë™ ì¬ìƒ ì°¨ë‹¨ - í´ë¦­ í›„ ìŒì•… ì¬ìƒë¨");
      });
    }

    function growTree() {
      clickCount++;
      if (clickCount <= totalClicks) {
        const stage = Math.floor((clickCount - 1) / (totalClicks / (treeImages.length - 1)));
        document.getElementById("tree-image").src = treeImages[stage];
      }

      if (clickCount === totalClicks) {
        alert("ë‚˜ë¬´ê°€ ëª¨ë‘ ìëì–´ìš”! ğŸŒ³");
      }
    }
  </script>
</body>
</html>
